# 연관관계 매핑 기초
- 객체와 테이블 연관관계의 차이를 이해
- 객체의 참조와 테이블의 외래 키 매핑
- 용어 이해
  - 방향(Direction) : 단방향, 양방향
  - 다중성(Multiplicity) : 다대일, 일대다, 일대일, 다대다 이해
  - 연관관계 주인(Owner) : 객체 양방향 연관관계는 관리 주인이 필요

예제 시나리오
- 회원과 팀이 있다.
- 회원은 하나의 팀에만 소속될 수 있다.
- 회원과 팀은 다대일 관계다.

객체를 테이블에 맞추어 데이터 중심으로 모델링하면, 협력관계를 만들 수 없다.
- 테이블은 외래 키로 조인을 사용해서 연관된 테이블을 찾는다.
- 객체는 참조를 사용해서 연관된 객체를 찾는다.
- 테이블과 객체 사이에는 이런 큰 간격이 있다.

### 단방향 연관관계
@ManyToOne
@JoinColumn
```agsl
@ManyToOne
@JoinColumn(name="TEAM_ID")
private Team team;
```

# 양방향 연관관계와 연관관계의 주인

### 양방향 매핑
- 원래 테이블에서는 방향이 없음. 조인 하면 양쪽의 정보 모두 확인할 수 있다.
- 양방향 매핑은 사실 단방향 매핑이 2개가 있는 것이다.
```agsl
//member는 단방향과 같음

@OneToMany(mappedBy = "team")
List<Member> members = new ArrayList<Member>();
```

#### 연관관계의 주인과 mappedBy
- 테이블은 외래 키 하나로 두 테이블의 연관관계를 관리한다.
- 하지만 객체는 양방향 매핑으로 두 개의 관계가 존재하기 때문에 주인을 지정해줘야 한다.
- 연관관계의 주인만이 외래 키를 관리(등록, 수정)
- 주인이 아닌쪽은 읽기만 가능하다.
- 주인은 mappedBy 속성 사용 x
- 주인이 아니면 mappedBy 속성으로 주인 지정

* 주인은 외래 키가 있는 곳을 주인으로 정해라
